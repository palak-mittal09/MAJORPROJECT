<% layout("/layouts/boilerplate") %>

<body>
  <div class="listing-container"
       style="max-width: 600px;  
              margin: 0 auto; 
              padding: 20px;">

    <h3 style="margin-bottom: 15px;">Listing Details :</h3>

    <!-- Listing Image -->
    <% if (listing.image && listing.image.url) { %>
      <img src="<%= listing.image.url %>" 
           alt="<%= listing.title %>" 
           style="width: 100%;
                  max-height: 300px; 
                  object-fit: cover; 
                  border-radius: 10px;
                  margin-bottom: 20px;">
    <% } %>

    <!-- Listing Info -->
    <h6><b><%= listing.title %></b></h6>
    <br>
    <ul style="list-style: disc; 
               padding-left: 20px;
               margin-bottom: 20px;">
      <li><%= listing.title %></li>
      <li><%= listing.description %></li>
      <li>&#8377;<%= listing.price ? listing.price.toLocaleString("en-IN") : "N/A" %></li>
      <li><%= listing.location %></li>
      <li><%= listing.country %></li>
    </ul>

    <!-- Action Buttons -->
    <a href="/listings/<%= listing._id %>/edit" style="text-decoration: none;">
      <button style="background-color: #fe424d;
                     color: white; 
                     padding: 10px 20px; 
                     border: none; 
                     border-radius: 5px; 
                     cursor: pointer;
                     margin-bottom: 15px;">
        Edit this Listing
      </button>
    </a>

    <form action="/listings/<%= listing._id %>?_method=DELETE" method="POST" style="margin-top: 10px;">
      <button style="background-color: #221d1e;
                     color: white; 
                     padding: 10px 20px; 
                     border: none; 
                     border-radius: 5px; 
                     cursor: pointer;">
        Delete this Listing
      </button>
    </form>

  </div>
</body>
